<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="CameraMatrixCapture.Pages.SetupPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CameraMatrixCapture.Pages">

    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" MaxWidth="600">

        <!-- Preset Selection -->
        <TextBlock Text="Capture Preset" FontSize="24" FontWeight="SemiBold" Margin="0,0,0,16"/>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Quick 36 -->
            <RadioButton x:Name="QuickPreset" Grid.Column="0" GroupName="Preset" IsChecked="True" Checked="Preset_Checked">
                <Border CornerRadius="8" Padding="16" MinWidth="160"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="1">
                    <StackPanel HorizontalAlignment="Center">
                        <TextBlock Text="Quick" FontSize="18" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                        <TextBlock Text="36 positions" Foreground="{ThemeResource TextFillColorSecondaryBrush}" HorizontalAlignment="Center"/>
                        <TextBlock Text="10° steps" Foreground="{ThemeResource TextFillColorSecondaryBrush}" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </RadioButton>

            <!-- Detailed 72 -->
            <RadioButton x:Name="DetailedPreset" Grid.Column="1" GroupName="Preset" Margin="8,0" Checked="Preset_Checked">
                <Border CornerRadius="8" Padding="16" MinWidth="160"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="1">
                    <StackPanel HorizontalAlignment="Center">
                        <TextBlock Text="Detailed" FontSize="18" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                        <TextBlock Text="72 positions" Foreground="{ThemeResource TextFillColorSecondaryBrush}" HorizontalAlignment="Center"/>
                        <TextBlock Text="5° steps" Foreground="{ThemeResource TextFillColorSecondaryBrush}" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </RadioButton>

            <!-- Custom -->
            <RadioButton x:Name="CustomPreset" Grid.Column="2" GroupName="Preset" Checked="Preset_Checked">
                <Border CornerRadius="8" Padding="16" MinWidth="160"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="1">
                    <StackPanel HorizontalAlignment="Center">
                        <TextBlock Text="Custom" FontSize="18" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                        <TextBlock x:Name="CustomPositionsText" Text="36 positions" Foreground="{ThemeResource TextFillColorSecondaryBrush}" HorizontalAlignment="Center"/>
                        <TextBlock x:Name="CustomStepsText" Text="10° steps" Foreground="{ThemeResource TextFillColorSecondaryBrush}" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </RadioButton>
        </Grid>

        <!-- Custom settings (visible when Custom selected) -->
        <StackPanel x:Name="CustomSettingsPanel" Visibility="Collapsed" Margin="0,24,0,0">
            <TextBlock Text="Custom Settings" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,8"/>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Margin="0,0,8,0">
                    <TextBlock Text="Positions" Margin="0,0,0,4"/>
                    <NumberBox x:Name="PositionsNumberBox" Value="36" Minimum="1" Maximum="360"
                               SpinButtonPlacementMode="Inline" ValueChanged="CustomSettings_Changed"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Margin="8,0,0,0">
                    <TextBlock Text="Angle Step (°)" Margin="0,0,0,4"/>
                    <NumberBox x:Name="AngleStepNumberBox" Value="10" Minimum="1" Maximum="180"
                               SpinButtonPlacementMode="Inline" ValueChanged="CustomSettings_Changed"/>
                </StackPanel>
            </Grid>
        </StackPanel>

        <!-- Session Name -->
        <TextBlock Text="Session Name (optional)" FontSize="18" FontWeight="SemiBold" Margin="0,32,0,8"/>
        <TextBox x:Name="SessionNameTextBox" PlaceholderText="my_object_001" MaxLength="100"/>

        <!-- Summary -->
        <Border CornerRadius="8" Padding="16" Margin="0,32,0,0"
                Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}">
            <StackPanel>
                <TextBlock Text="Capture Summary" FontWeight="SemiBold" Margin="0,0,0,8"/>
                <TextBlock x:Name="SummaryText" TextWrapping="Wrap"
                           Text="36 positions at 10° intervals&#x0a;12 cameras × 36 positions = 432 images&#x0a;Estimated time: ~3 minutes"/>
            </StackPanel>
        </Border>
    </StackPanel>
</Page>
