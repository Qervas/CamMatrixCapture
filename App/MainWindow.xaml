<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="CameraMatrixCapture.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CameraMatrixCapture"
    Title="Camera Matrix Capture">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="48"/>
            <RowDefinition Height="80"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="60"/>
        </Grid.RowDefinitions>

        <!-- Title Bar -->
        <Grid Grid.Row="0" Background="{ThemeResource SystemControlBackgroundChromeMediumBrush}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock
                Grid.Column="0"
                Text="Camera Matrix Capture"
                FontSize="16"
                FontWeight="SemiBold"
                VerticalAlignment="Center"
                Margin="16,0,0,0"/>

            <Button
                Grid.Column="1"
                x:Name="SettingsButton"
                Content="&#xE713;"
                FontFamily="Segoe MDL2 Assets"
                FontSize="16"
                Width="48"
                Height="48"
                Background="Transparent"
                BorderThickness="0"
                Click="SettingsButton_Click"
                ToolTipService.ToolTip="Settings"/>
        </Grid>

        <!-- Step Indicator -->
        <Grid Grid.Row="1" Margin="40,8,40,8">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Circles Row -->
            <Ellipse x:Name="Step1Circle" Grid.Row="0" Grid.Column="0" Width="32" Height="32" Fill="{StaticResource AccentBrush}" HorizontalAlignment="Center"/>
            <Rectangle Grid.Row="0" Grid.Column="1" Height="2" Fill="{ThemeResource SystemControlBackgroundBaseMediumBrush}" VerticalAlignment="Center"/>
            <Ellipse x:Name="Step2Circle" Grid.Row="0" Grid.Column="2" Width="32" Height="32" Fill="{ThemeResource SystemControlBackgroundBaseMediumBrush}" HorizontalAlignment="Center"/>
            <Rectangle Grid.Row="0" Grid.Column="3" Height="2" Fill="{ThemeResource SystemControlBackgroundBaseMediumBrush}" VerticalAlignment="Center"/>
            <Ellipse x:Name="Step3Circle" Grid.Row="0" Grid.Column="4" Width="32" Height="32" Fill="{ThemeResource SystemControlBackgroundBaseMediumBrush}" HorizontalAlignment="Center"/>
            <Rectangle Grid.Row="0" Grid.Column="5" Height="2" Fill="{ThemeResource SystemControlBackgroundBaseMediumBrush}" VerticalAlignment="Center"/>
            <Ellipse x:Name="Step4Circle" Grid.Row="0" Grid.Column="6" Width="32" Height="32" Fill="{ThemeResource SystemControlBackgroundBaseMediumBrush}" HorizontalAlignment="Center"/>

            <!-- Labels Row -->
            <TextBlock Grid.Row="1" Grid.Column="0" Text="Connect" HorizontalAlignment="Center" Margin="0,8,0,0" FontWeight="SemiBold"/>
            <TextBlock Grid.Row="1" Grid.Column="2" Text="Setup" HorizontalAlignment="Center" Margin="0,8,0,0"/>
            <TextBlock Grid.Row="1" Grid.Column="4" Text="Capture" HorizontalAlignment="Center" Margin="0,8,0,0"/>
            <TextBlock Grid.Row="1" Grid.Column="6" Text="Done" HorizontalAlignment="Center" Margin="0,8,0,0"/>
        </Grid>

        <!-- Page Content -->
        <Frame Grid.Row="2" x:Name="ContentFrame" Margin="40,0,40,0"/>

        <!-- Navigation Buttons -->
        <Grid Grid.Row="3" Margin="40,0,40,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button
                x:Name="BackButton"
                Grid.Column="0"
                Content="Back"
                HorizontalAlignment="Left"
                Width="120"
                Height="40"
                Click="BackButton_Click"
                IsEnabled="False"/>

            <Button
                x:Name="NextButton"
                Grid.Column="1"
                Content="Next"
                HorizontalAlignment="Right"
                Width="120"
                Height="40"
                Style="{StaticResource AccentButtonStyle}"
                Click="NextButton_Click"/>
        </Grid>
    </Grid>
</Window>
